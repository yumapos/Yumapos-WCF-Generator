//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template.
//
//     Manual changes to this file may cause unexpected behavior in your application.
//     Manual changes to this file will be overwritten if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using YumaPos.Server.Data.Sql;
using YumaPos.Server.Infrastructure.Repositories
using TestRepositoryGeneration;
using YumaPos.Server.Data.Sql.Taxes;


namespace TestRepositoryGeneration
{
public partial class MenuItemRepository : RepositoryBase,IMenuItemRepository
{
private MenuItemСacheRepository _menuItemСacheRepository;
private MenuItemVersionRepository _menuItemVersionRepository;
private MenuItemToTaxСacheRepository _menuItemToTaxСacheRepository;
private MenuItemToTaxVersionRepository _menuItemToTaxVersionRepository;
private TaxCashRepository _taxСacheRepository;


public MenuItemRepository(YumaPos.FrontEnd.Infrastructure.Configuration.IDataAccessService dataAccessService) : base(dataAccessService)
{
_menuItemСacheRepository = new MenuItemСacheRepository(dataAccessService);
_menuItemVersionRepository = new MenuItemVersionRepository(dataAccessService);
_menuItemToTaxСacheRepository = new MenuItemToTaxСacheRepository(dataAccessService);
_menuItemToTaxVersionRepository = new MenuItemToTaxVersionRepository(dataAccessService);
_taxСacheRepository = new TaxCashRepository(dataAccessService);
}

public async Task<IEnumerable<YumaPos.Server.Infrastructure.DataObjects.MenuItem>> GetAllAsync(Boolean? isDeleted = false)
{
return await _menuItemСacheRepository.GetAllAsync();
}

public async Task<IEnumerable<YumaPos.Server.Infrastructure.DataObjects.MenuItem>> GetByModifiedByAsync(Guid  modifiedBy, Boolean? isDeleted = false)
{
return await _menuItemСacheRepositoryGetByModifiedByAsync(Guid  modifiedBy, Boolean? isDeleted = false);
}

public async Task<Guid> InsertAsync(YumaPos.Server.Infrastructure.DataObjects.MenuItem menuItem);
{
menuItem.Modified = DateTimeOffset.Now;
menuItem. = _menuItemVersionRepository.Insert(menuItem);
_menuItemСacheRepository.Insert(menuItem);
return menuItem.ItemVersionId;
}

public async Task UpdateByModifiedByAsync(Guid  modifiedBy))
{
menuItem.Modified = DateTimeOffset.Now;
menuItem.ItemVersionId = _menuItemVersionRepositoryInsert(menuItem);
_menuItemСacheRepository.Update(menuItem);
return menuItem.ItemVersionId;
}

public async Task RemoveByModifiedByAsync(Guid  modifiedBy))
{
menuItem.IsDeleted = true;
_menuItemСacheRepository.Update(menuItem);


}
}
